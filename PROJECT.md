# é¡¹ç›®æ¦‚è§ˆ

## ğŸ“ é¡¹ç›®ç»“æ„

```
mac-file-search/
â”œâ”€â”€ .github/                    # GitHub é…ç½®
â”‚   â”œâ”€â”€ ISSUE_TEMPLATE/         # Issue æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ bug_report.md       # Bug æŠ¥å‘Šæ¨¡æ¿
â”‚   â”‚   â””â”€â”€ feature_request.md  # åŠŸèƒ½è¯·æ±‚æ¨¡æ¿
â”‚   â””â”€â”€ pull_request_template.md # PR æ¨¡æ¿
â”‚
â”œâ”€â”€ docs/                       # æŠ€æœ¯æ–‡æ¡£
â”‚   â”œâ”€â”€ performance-optimization.md
â”‚   â”œâ”€â”€ recent-improvements.md
â”‚   â””â”€â”€ ...                     # å…¶ä»–æŠ€æœ¯æ–‡æ¡£
â”‚
â”œâ”€â”€ mac-search-app/             # GUI æ¡Œé¢åº”ç”¨
â”‚   â”œâ”€â”€ frontend/               # Svelte å‰ç«¯
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ wailsjs/            # Wails è¿è¡Œæ—¶
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ app.go                  # åº”ç”¨åç«¯
â”‚   â”œâ”€â”€ indexer.go              # æ–‡ä»¶ç´¢å¼•å™¨
â”‚   â”œâ”€â”€ search.go               # æœç´¢å¼•æ“
â”‚   â””â”€â”€ wails.json              # Wails é…ç½®
â”‚
â”œâ”€â”€ main.go                     # å‘½ä»¤è¡Œå·¥å…·ä¸»ç¨‹åº
â”œâ”€â”€ Makefile                    # æ„å»ºè„šæœ¬
â”œâ”€â”€ go.mod                      # Go æ¨¡å—å®šä¹‰
â”‚
â”œâ”€â”€ README.md                   # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ BUILD.md                    # æ„å»ºè¯´æ˜
â”œâ”€â”€ CONTRIBUTING.md             # è´¡çŒ®æŒ‡å—
â”œâ”€â”€ LICENSE                     # MIT è®¸å¯è¯
â”‚
â”œâ”€â”€ benchmark_workers.sh        # æ€§èƒ½æµ‹è¯•è„šæœ¬
â”œâ”€â”€ build-tree.sh               # ç»“æœåˆ†æè„šæœ¬
â”œâ”€â”€ examples.sh                 # ä½¿ç”¨ç¤ºä¾‹
â””â”€â”€ .gitignore                  # Git å¿½ç•¥é…ç½®
```

## ğŸ¯ æ ¸å¿ƒç»„ä»¶

### 1. å‘½ä»¤è¡Œå·¥å…· (main.go)

é«˜æ€§èƒ½æ–‡ä»¶æ‰«æå¼•æ“ï¼Œæ”¯æŒï¼š
- å¤šåç¨‹å¹¶å‘æ‰«æï¼ˆWorker Pool æ¨¡å¼ï¼‰
- æ™ºèƒ½å»é‡ï¼ˆç¡¬é“¾æ¥ã€firmlinksï¼‰
- æ–‡ä»¶å¤§å°ç­›é€‰
- æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤
- å®æ—¶è¿›åº¦æ˜¾ç¤º
- JSON Lines æ ¼å¼è¾“å‡º

**å¤§å°**: 28KB
**è¯­è¨€**: Go

### 2. GUI åº”ç”¨ (mac-search-app/)

åŸºäº Wails çš„æ¡Œé¢åº”ç”¨ï¼Œæä¾›ï¼š
- ç›´è§‚çš„å›¾å½¢ç•Œé¢
- å®æ—¶æœç´¢åŠŸèƒ½
- æ–‡ä»¶é¢„è§ˆ
- å¿«é€Ÿå¯¼èˆª

**æŠ€æœ¯æ ˆ**:
- åç«¯: Go (Wails)
- å‰ç«¯: Svelte + Vite
- æ•°æ®åº“: SQLite (å…¨æ–‡æœç´¢)

### 3. æ„å»ºç³»ç»Ÿ

- **Makefile**: è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹
- **æ”¯æŒç›®æ ‡**:
  - `make scanner`: æ„å»ºå‘½ä»¤è¡Œå·¥å…·
  - `make app`: æ„å»º GUI åº”ç”¨
  - `make all`: æ„å»ºæ‰€æœ‰
  - `make clean`: æ¸…ç†æ„å»ºäº§ç‰©

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **æ–‡ä»¶æ€»æ•°**: 57 ä¸ªï¼ˆä¸å« node_modules å’Œæ„å»ºäº§ç‰©ï¼‰
- **é¡¹ç›®å¤§å°**: ~59MB
- **ä»£ç è¡Œæ•°**: ~13,000 è¡Œ
- **ä¸»è¦è¯­è¨€**: Go (85%), JavaScript/Svelte (10%), Shell (5%)

## ğŸ”‘ å…³é”®ç‰¹æ€§

### æ€§èƒ½ä¼˜åŒ–
- Worker Pool å¹¶å‘æ¨¡å¼
- sync.Map å¹¶å‘å®‰å…¨
- atomic åŸå­æ“ä½œ
- æ™ºèƒ½è¿›åº¦ä¼°ç®—

### æ™ºèƒ½å»é‡
- ç¡¬é“¾æ¥æ£€æµ‹ï¼ˆinodeï¼‰
- Firmlinks å¤„ç†
- ç¬¦å·é“¾æ¥è·³è¿‡

### ç”¨æˆ·ä½“éªŒ
- å®æ—¶è¿›åº¦æ¡
- äººæ€§åŒ–å¤§å°å•ä½ï¼ˆ100M, 1.5Gï¼‰
- è¯¦ç»†é”™è¯¯æŠ¥å‘Š
- å¯ä¸­æ–­æ¢å¤

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/mac-file-search.git
cd mac-file-search

# æ„å»ºæ‰€æœ‰
make
```

### ä½¿ç”¨

```bash
# å‘½ä»¤è¡Œå·¥å…·
sudo ./mac-file-search -path / -output result.json

# GUI åº”ç”¨
open mac-search-app/build/bin/Macæ–‡ä»¶æœç´¢.app
```

## ğŸ“ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Go 1.21+
- Make
- Wails v2 (GUI å¼€å‘)
- Node.js 16+ (å‰ç«¯å¼€å‘)

### å¼€å‘æµç¨‹

1. Fork ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. ç¼–å†™ä»£ç å’Œæµ‹è¯•
4. æäº¤ Pull Request

è¯¦è§ [CONTRIBUTING.md](CONTRIBUTING.md)

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE)

## ğŸ”— ç›¸å…³é“¾æ¥

- [æ„å»ºè¯´æ˜](BUILD.md)
- [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)
- [æ€§èƒ½ä¼˜åŒ–æ–‡æ¡£](docs/performance-optimization.md)
- [æœ€è¿‘æ”¹è¿›](docs/recent-improvements.md)

---

æœ€åæ›´æ–°: 2026-02-25
